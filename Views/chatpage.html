<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Page</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"  ></script>
    <script defer src="http://localhost:8000/socket.io/socket.io.js"></script>
  <script defer src="../script.js" type="module"></script>
  
<style> 
h2{
    text-align: center;
}
h5{
    background-color:rgb(204, 203, 203);
    color:black;
}
</style>
</head>
<body>
<h2>Chat App</h2>
<!-- <div class="container" id="container">
<button type="submit" id="CreateGroup">Create Group</button>
<br>
<br>

</div> -->

<form id="form">
<h5>Type a message</h5>
<input type="text" id="message">
<button type="submit" id="send">Send</button></br></br>
<input type="text" id="roomvalue">
<button type="submit" id="Room">Join</button>


</form>


<!-- <script> -->
<!-- // function parseJwt (token) {
//     var base64Url = token.split('.')[1];
//     var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
//     var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {
//         return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
//     }).join(''));

//     return JSON.parse(jsonPayload);
// }
// window.addEventListener('DOMContentLoaded',()=>{
//     showonscreen()
// })
// const token=localStorage.getItem('token')
// const decodedtoken=parseJwt(token) 
// const user=localStorage.getItem('user')
// const userparsed=JSON.parse(user)
// function showonscreen()
// {
//    const Name=decodedtoken.userName


// userparsed.forEach(element => {
//     if(element==Name)
//     {
//         const h5=document.createElement('h5')


//    h5.append('You joined')
//    document.body.append(h5);

//     }
//     if(element!=Name)
//     {
//         const h5=document.createElement('h5')


//     h5.append(`${element} joined`)
//     document.body.append(h5);

//     }

// })

// }



 


// const send=document.getElementById('send');
// send.addEventListener('click',sendmessage)
// function sendmessage(e)
// {
// e.preventDefault();
// const obj={
//     message:document.getElementById('message').value
// }
//  axios.post("http://localhost:3000/user/login/message",obj,{headers:{"Authentication":token}}).then((result)=>{
//      console.log(result)
//  }).catch((err)=>{ 
//      console.log(err)
//  })
// }
// window.addEventListener('DOMContentLoaded',fetchallmessage)
// // setTimeout(()=>{
// // location.reload()
// // },9000)


//  function fetchallmessage()
// {
//     axios.get("http://localhost:3000/user/login/message/getmessage").then((result)=>{
//     const messagearray=result.data.allMessage
//      console.log(messagearray)
    
//      messagearray.forEach(element => {
//         const h5=document.createElement('h5')
//          h5.append(element.userdetail.Name," ",":",element.message)
//          document.body.append(h5)

//      });

//     }).catch((err)=>{
//         console.log(err)
//     })
// }

// const createGroup=document.getElementById('CreateGroup');
// createGroup.onclick=()=>{
//     console.log('Hello')

// } -->

<!-- </script> -->
</body>
</html> 